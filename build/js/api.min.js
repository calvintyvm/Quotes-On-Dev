!function(e){var t="";e("#new-quote-button").on("click",function(n){n.preventDefault(),t=document.URL,e.ajax({url:"/project5/wp-json/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",success:function(t){var n=t[0]._qod_quote_source_url,o=t[0]._qod_quote_source,r=t[0].title.rendered,u=t[0].slug,a=t[0].content.rendered;n.length>0?(e(".entry-content").empty(),e(".entry-content").append(a),e(".entry-title").empty(),e(".entry-title").append("&mdash;"+r+","),e(".source").empty(),e(".source").append(' <a href="'+n+'">'+o+"</a>"),history.pushState(null,null,u)):o.length>0?(e(".entry-content").empty(),e(".entry-content").append(a),e(".entry-title").empty(),e(".entry-title").append("&mdash;"+r+","),e(".source").empty(),e(".source").append(" "+o),history.pushState(null,null,u)):(e(".entry-content").empty(),e(".entry-content").append(a),e(".entry-title").empty(),e(".entry-title").append("&mdash;"+r),e(".source").empty(),e(".source").append(o),history.pushState(null,null,u))}})}),e(window).on("popstate",function(){if(console.log("popstate fired!"),1===window.location.hash.indexOf("qm-overview"))return!1;window.location.replace(t)}),e("#submit-quote").on("click",function(t){t.preventDefault();var n={title:e("#quote-author").val(),content:e("textarea#quote-content").val(),_qod_quote_source:e("#quote-source").val(),_qod_quote_source_url:e("#quote-source").val()};e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:n,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e("#quote-submission-form").hide("slow"),e(".entry-title").after("<p>"+api_vars_success+"</p>")}).fail(function(){e("#quote-submission-form").hide("slow"),e(".entry-title").after("<p>"+api_vars.failure+"</p>")})})}(jQuery);